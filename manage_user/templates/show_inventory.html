    {% extends 'base.html' %}

    {% block content %}
    <div class="m-4">
        <a href="{% url 'manage_user:user_page' %}" class="text-white bg-gray-500 hover-bg-gray-700 py-2 px-4 rounded-full">
            Back
        </a>
        <a href="{% url 'manage_user:add_to_inventory' %}" class="text-white bg-green-500 hover:bg-green-700 py-2 px-4 rounded-full">
            Add Books to Your Inventory
        </a>
    </div>
    <div class="flex flex-wrap justify-center">
        {% for book in books %}
        <div class="max-w-sm m-4 bg-white rounded-lg shadow-md dark:bg-gray-800" style="width: 250px;">
            <img class="w-32 h-48 object-cover rounded-t-lg" src="{{ book.image_link }}" alt="Book Image">
            <div class="p-4">
                <h2 class="text-xl font-semibold text-gray-800 dark-text-gray-200">{{ book.title }}</h2>
                <p class="text-gray-600 dark-text-gray-400">{{ book.author }}</p>
                <p class="text-gray-600 dark-text-gray-400" id="quantity-{{ book.pk }}">Quantity: {{ book.Inventory_amount }}</p>
            </div>
        </div>
        <script>
            console.log("Book: {{ book.title }}, Inventory Amount: {{ book.inventory_amount }}");
        </script>
        {% empty %}
        <div class="text-gray-500 text-lg my-4">Your inventory is empty.</div>
        {% endfor %}
    </div>

    <div id="bookModal" class="fixed inset-0 flex items-center justify-center z-10 hidden">
        <div class="modal-overlay fixed inset-0 bg-black opacity-50"></div>
        <div class="modal-container bg-white w-1/2 md:w-2/3 mx-auto p-4 rounded-lg shadow-lg z-50 relative">
            <div class="modal-content py-4 text-left px-6">
                <div class="flex justify-between items-center pb-3">
                    <p class="text-2xl font-bold">Book Details</p>
                    <button class="modal-close" onclick="closeModal()">
                        <span class="text-2xl">&times;</span>
                    </button>
                </div>
                <div id="bookDetails">
                </div>
                <button onclick="closeModal()" class="bg-blue-500 hover-bg-blue-700 text-white font-bold py-2 px-4 rounded">
                    Close
                </button>
            </div>
        </div>
    </div>

    <style>
        /* Style for book cards */
    .card {
        max-width: 250px;
        margin: 10px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .card img {
        max-width: 100%;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
    }

    .card .card-body {
        padding: 16px;
    }

    .card h2 {
        font-size: 1.25rem;
        font-weight: 600;
        margin: 0;
    }

    .card p {
        color: #777;
    }

    .card .quantity {
        font-weight: 500;
        color: #333;
    }

    .card button {
        margin-top: 10px;
        background: #3498db;
        color: #fff;
        border: none;
        border-radius: 4px;
        padding: 8px 16px;
        cursor: pointer;
    }

    /* Style for modal */
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
    }

    .modal-content {
        background: #fff;
        max-width: 70%;
        margin: 50px auto;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        position: relative;
    }

    .modal-content h2 {
        font-size: 1.5rem;
        font-weight: 600;
    }

    .modal-content button {
        background: #3498db;
        color: #fff;
        border: none;
        border-radius: 4px;
        padding: 8px 16px;
        cursor: pointer;
    }

    </style>

    <script>
        // Fungsi untuk membuka modal
    function openModal(bookId) {
        const modal = document.getElementById('bookModal');
        modal.style.display = 'block';

        // Gantilah dengan logika untuk menampilkan detail buku sesuai bookId
        const bookDetails = document.getElementById('bookDetails');
        bookDetails.innerHTML = '<p>Loading book details...</p>';
    }

    // Fungsi untuk menutup modal
    function closeModal() {
        const modal = document.getElementById('bookModal');
        modal.style.display = 'none';
    }

    // Event listener untuk menutup modal jika mengklik di luar modal
    window.addEventListener('click', (event) => {
        const modal = document.getElementById('bookModal');
        if (event.target === modal) {
            closeModal();
        }
    });
        
    </script>
    {% endblock content %}

{% extends 'base.html' %}


{% block content %}
    <nav class="bg-custom-navy text-white py-3 px-4 flex justify-between items-center shadow-xl">
        <a href="{% url 'homepage:show_homepage' %}" class="text-2xl font-bold ml-2 text-while hover:text-gray-350">
            <h1 class="text-2xl font-bold">LITERA</h1>
        </a>
        <div class="mx-6 flex items-center gap-8">
            <span class="text-lg">Hi, <strong>{{ name }}</strong></span>
            <a href="{% url 'authentication:logout' %}">
                <button class="bg-green-500 hover:bg-green-700 text-white py-2 px-4 rounded-full">
                    Logout
                </button>
            </a>
        </div>
    </nav>

    <div class="m-4">
        <div>
            <a href="{% url 'catalog:show_catalog' %}" class="text-white bg-gray-500 hover:bg-gray-700 py-2 px-4 rounded-full">
                Back
            </a>
        </div>

        <!-- Display book image and its detail in columns -->
        <div class="flex justify-between p-8">
            <div class="w-1/3 flex justify-center items-center rounded-lg overflow-hidden shadow-xl">
                <img class="max-w-full h-auto object-cover" style="max-height: 192px;" src="{{ book.image_link }}" alt="book cover">
            </div>
            <div class="m-4 w-2/3 p-4">
                <h1 class="text-2xl font-bold mb-4">{{book.title}}</h1>
                <div class="mb-4">
                    <p class="text-gray-700">by <b>{{book.author}}</b></p>
                </div>
                <div class="my-4 border-t border-solid border-gray-600 border-t-4 border-opacity-75 mx-0 w-full"></div>
                <div class="mb-4">
                    <p class="text-gray-700">{{book.description}}</p>
                </div>
                <div class="mb-4">
                    <a href="{% url 'review:add_review' %}" class="text-white bg-green-500 hover:bg-green-700 py-2 px-4 rounded-full">
                        Add Review
                    </a>
                </div>
            </div>
        </div>

        <!-- Display reviews in a table -->
        <div class="row">
            {% for review in reviews %}
            <div class="card">
                <div class="card-header">
                    {{review.reviewer_name}}
                </div>
                <div class="card-body">
                <blockquote class="blockquote mb-0">
                    <p>{{ review.review_text }}</p>
                    <footer class="blockquote-footer">{{ review.review_date }}</footer>
                </blockquote>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- <table>
            <tr>
                <th>No</th>
                <th>Reviewer Name</th>
                <th>Review Summary</th>
                <th>Review Text</th>
                <th>Review Date</th>
            </tr>

            {% comment %} Berikut cara memperlihatkan data produk di bawah baris ini {% endcomment %}

            {% for review in reviews %} 
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ review.reviewer_name }}</td>
                    <td>{{ review.review_summary }}</td>
                    <td>{{ review.review_text }}</td>
                    <td>{{ review.review_date }}</td>
                </tr>
            {% endfor %}
        </table> -->
        
        <br />
    </div>
    
{% endblock content %}